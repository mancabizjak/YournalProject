<header class="page-header">
  <h1>Volume {{issue.volume}}, No {{issue.number}} <small>({{issue.year}})</small></h1>
</header>

<div class="alert animated fadeIn" data-ng-show="err" ng-class="err.success ? 'alert-success' : 'alert-danger'">{{err.msg}}</div>

<div class="container">
  <h2>Table of Contents</h2>
  <ul>
    <li ng-repeat="section in issue.sections" class="list-unstyled animate-repeat">
      <h3>{{section.title}}
        <span ng-show="user.isAuthorized('admin')" class="marginl50">
          <a class="btn btn-primary btn-xs" ng-href="{{$state.href('section-edit', {year: issue.year, volume: issue.volume, number: issue.number, section: section._id})}}">
            <span class="glyphicon glyphicon-pencil"></span>
          </a>
          <button type="button" ng-click="deleteSection(section)" class="btn btn-danger btn-xs">
            <span class="glyphicon glyphicon-remove"></span>
          </button>
        </span>
      </h3>
      
      <ul class="article-list">
        <li ng-repeat="article in section.articles">
          <a ng-href="{{$state.href('article', {year: issue.year, volume: issue.volume, number: issue.number, section: section._id, article: article._id})}}"><strong>{{article.title}}</strong></a>
          <ul class="list-unstyled list-inline list-comma-separated">
            <li ng-repeat="author in article.authors">{{author}}</li>
          </ul>
          <span ng-show="user.isAuthorized('admin')" class="marginl50">
          <a class="btn btn-primary btn-xs" ng-href="{{$state.href('article-edit', {year: issue.year, volume: issue.volume, number: issue.number, section: section._id, article: article._id})}}">
            <span class="glyphicon glyphicon-pencil"></span>
          </a>
          <a ng-href="{{$state.href('article-delete', {year: year, volume: volume, number: number, section: section, article: article._id})}}" class="btn btn-danger btn-xs">
             <span class="glyphicon glyphicon-remove"></span>
          </a>
        </span>
        </li>
      </ul>
    </li>
  </ul>
  <hr>
  <h3>Add article</h3>
  <br>
  <div class="row">
    <div class="col-md-5">
      <form  role="form" class="form-horizontal" novalidate>
      <div class="form-group">
          <label for="title" class="col-sm-3 control-label">Title</label>
          <div class="col-sm-9">
            <input type="text" ng-model="article.title" class="form-control input-lg" placeholder="Email address" autofocus id="title">
          </div>
        </div>
        <div class="form-group" >
          <label for="authors" class="col-sm-3 control-label">Author</label>
          <div class="col-sm-9">
            <input type="text" ng-model="article.aurhors" class="form-control input-lg" placeholder="First name" id="authors">
          </div>
        </div>
        <div class="form-group">
          <label for="keywords" class="col-sm-3 control-label">Keywords</label>
          <div class="col-sm-9">
            <input type="text" class="form-control input-lg" placeholder="Last name" id="keywords">
          </div>
        </div>
        <div class="form-group">
        <label for="abstract" class="col-sm-3 control-label">Abstract</label>
        <div class="col-sm-9">
          <input type="text" ng-model="article.abstract" class="form-control input-lg" placeholder="Password" id="abstract">
          </div>
        </div>
        <div class="form-group">
          <label for="content" class="col-sm-3 control-label">Content</label>
          <div class="col-sm-9">
            <input type="text" ng-model="article.content" class="form-control input-lg" placeholder="Retype password" id="content">
          </div>
        </div>
        <div class="form-group">
          <label for="section" class="col-sm-3 control-label">Section</label>
          <div class="col-sm-9">
            <input type="text" class="form-control input-lg" placeholder="Retype password" id="section">
          </div>
        </div>
        <button ng-click="reset()" class="col-md-offset-3 btn btn-primary btn-lg">Reset</button>
        <button ng-click="update(article)" class="btn btn-success btn-lg">Save</button>
      </form>
    </div>
  </div>
</div>
